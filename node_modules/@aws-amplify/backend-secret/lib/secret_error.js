import { SSMServiceException } from '@aws-sdk/client-ssm';
/**
 * Secret Error.
 */
export class SecretError extends Error {
    cause;
    httpStatusCode;
    /**
     * Creates a secret error instance.
     */
    constructor(message, options) {
        super(message);
        this.name = 'SecretError';
        this.cause = options?.cause;
        this.httpStatusCode = options?.httpStatusCode;
    }
    /**
     * Creates a secret error from an underlying cause.
     */
    static createInstance = (cause) => {
        if (cause instanceof SSMServiceException) {
            return SecretError.fromSSMException(cause);
        }
        return new SecretError(cause.message, { cause });
    };
    /**
     * Creates a secret error from an SSM exception.
     */
    static fromSSMException = (ssmException) => {
        // the SSM error message is wrong/misleading, like 'UnknownError'. We will stringify the
        // whole err object instead.
        return new SecretError(JSON.stringify(ssmException), {
            cause: ssmException,
            httpStatusCode: ssmException.$metadata.httpStatusCode,
        });
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VjcmV0X2Vycm9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3NlY3JldF9lcnJvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUUxRDs7R0FFRztBQUNILE1BQU0sT0FBTyxXQUFZLFNBQVEsS0FBSztJQUM3QixLQUFLLENBQVM7SUFDZCxjQUFjLENBQVU7SUFFL0I7O09BRUc7SUFDSCxZQUNFLE9BQWUsRUFDZixPQUdDO1FBRUQsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLElBQUksR0FBRyxhQUFhLENBQUM7UUFDMUIsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLEVBQUUsS0FBSyxDQUFDO1FBQzVCLElBQUksQ0FBQyxjQUFjLEdBQUcsT0FBTyxFQUFFLGNBQWMsQ0FBQztJQUNoRCxDQUFDO0lBRUQ7O09BRUc7SUFDSCxNQUFNLENBQUMsY0FBYyxHQUFHLENBQUMsS0FBWSxFQUFlLEVBQUU7UUFDcEQsSUFBSSxLQUFLLFlBQVksbUJBQW1CLEVBQUU7WUFDeEMsT0FBTyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDNUM7UUFDRCxPQUFPLElBQUksV0FBVyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ25ELENBQUMsQ0FBQztJQUVGOztPQUVHO0lBQ0ssTUFBTSxDQUFDLGdCQUFnQixHQUFHLENBQ2hDLFlBQWlDLEVBQ3BCLEVBQUU7UUFDZix3RkFBd0Y7UUFDeEYsNEJBQTRCO1FBQzVCLE9BQU8sSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUNuRCxLQUFLLEVBQUUsWUFBWTtZQUNuQixjQUFjLEVBQUUsWUFBWSxDQUFDLFNBQVMsQ0FBQyxjQUFjO1NBQ3RELENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNTTVNlcnZpY2VFeGNlcHRpb24gfSBmcm9tICdAYXdzLXNkay9jbGllbnQtc3NtJztcblxuLyoqXG4gKiBTZWNyZXQgRXJyb3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZWNyZXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIGNhdXNlPzogRXJyb3I7XG4gIHB1YmxpYyBodHRwU3RhdHVzQ29kZT86IG51bWJlcjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHNlY3JldCBlcnJvciBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICBvcHRpb25zPzoge1xuICAgICAgY2F1c2U/OiBFcnJvcjtcbiAgICAgIGh0dHBTdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIH0sXG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9ICdTZWNyZXRFcnJvcic7XG4gICAgdGhpcy5jYXVzZSA9IG9wdGlvbnM/LmNhdXNlO1xuICAgIHRoaXMuaHR0cFN0YXR1c0NvZGUgPSBvcHRpb25zPy5odHRwU3RhdHVzQ29kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc2VjcmV0IGVycm9yIGZyb20gYW4gdW5kZXJseWluZyBjYXVzZS5cbiAgICovXG4gIHN0YXRpYyBjcmVhdGVJbnN0YW5jZSA9IChjYXVzZTogRXJyb3IpOiBTZWNyZXRFcnJvciA9PiB7XG4gICAgaWYgKGNhdXNlIGluc3RhbmNlb2YgU1NNU2VydmljZUV4Y2VwdGlvbikge1xuICAgICAgcmV0dXJuIFNlY3JldEVycm9yLmZyb21TU01FeGNlcHRpb24oY2F1c2UpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFNlY3JldEVycm9yKGNhdXNlLm1lc3NhZ2UsIHsgY2F1c2UgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzZWNyZXQgZXJyb3IgZnJvbSBhbiBTU00gZXhjZXB0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgZnJvbVNTTUV4Y2VwdGlvbiA9IChcbiAgICBzc21FeGNlcHRpb246IFNTTVNlcnZpY2VFeGNlcHRpb24sXG4gICk6IFNlY3JldEVycm9yID0+IHtcbiAgICAvLyB0aGUgU1NNIGVycm9yIG1lc3NhZ2UgaXMgd3JvbmcvbWlzbGVhZGluZywgbGlrZSAnVW5rbm93bkVycm9yJy4gV2Ugd2lsbCBzdHJpbmdpZnkgdGhlXG4gICAgLy8gd2hvbGUgZXJyIG9iamVjdCBpbnN0ZWFkLlxuICAgIHJldHVybiBuZXcgU2VjcmV0RXJyb3IoSlNPTi5zdHJpbmdpZnkoc3NtRXhjZXB0aW9uKSwge1xuICAgICAgY2F1c2U6IHNzbUV4Y2VwdGlvbixcbiAgICAgIGh0dHBTdGF0dXNDb2RlOiBzc21FeGNlcHRpb24uJG1ldGFkYXRhLmh0dHBTdGF0dXNDb2RlLFxuICAgIH0pO1xuICB9O1xufVxuIl19