import { StackStatus } from '@aws-sdk/client-cloudformation';
import { BackendDeploymentStatus } from '../deployed_backend_client_factory.js';
/**
 * Maps CFN stack statuses to BackendMetadata status
 */
export class StackStatusMapper {
    /**
     * Converts CFN stack status to backend metadata status
     */
    translateStackStatus = (status) => {
        switch (status) {
            case StackStatus.CREATE_COMPLETE:
            case StackStatus.IMPORT_COMPLETE:
            case StackStatus.UPDATE_COMPLETE:
                return BackendDeploymentStatus.DEPLOYED;
            case StackStatus.CREATE_FAILED:
            case StackStatus.DELETE_FAILED:
            case StackStatus.IMPORT_ROLLBACK_COMPLETE:
            case StackStatus.IMPORT_ROLLBACK_FAILED:
            case StackStatus.ROLLBACK_COMPLETE:
            case StackStatus.ROLLBACK_FAILED:
            case StackStatus.UPDATE_ROLLBACK_COMPLETE:
            case StackStatus.UPDATE_ROLLBACK_FAILED:
            case StackStatus.UPDATE_FAILED:
                return BackendDeploymentStatus.FAILED;
            case StackStatus.CREATE_IN_PROGRESS:
            case StackStatus.IMPORT_IN_PROGRESS:
            case StackStatus.IMPORT_ROLLBACK_IN_PROGRESS:
            case StackStatus.REVIEW_IN_PROGRESS:
            case StackStatus.ROLLBACK_IN_PROGRESS:
            case StackStatus.UPDATE_COMPLETE_CLEANUP_IN_PROGRESS:
            case StackStatus.UPDATE_IN_PROGRESS:
            case StackStatus.UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS:
            case StackStatus.UPDATE_ROLLBACK_IN_PROGRESS:
                return BackendDeploymentStatus.DEPLOYING;
            case StackStatus.DELETE_IN_PROGRESS:
                return BackendDeploymentStatus.DELETING;
            case StackStatus.DELETE_COMPLETE:
                return BackendDeploymentStatus.DELETED;
            default:
                return BackendDeploymentStatus.UNKNOWN;
        }
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhY2tfc3RhdHVzX21hcHBlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZXBsb3llZC1iYWNrZW5kLWNsaWVudC9zdGFja19zdGF0dXNfbWFwcGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUM3RCxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUVoRjs7R0FFRztBQUNILE1BQU0sT0FBTyxpQkFBaUI7SUFDNUI7O09BRUc7SUFDSCxvQkFBb0IsR0FBRyxDQUNyQixNQUF3QyxFQUNmLEVBQUU7UUFDM0IsUUFBUSxNQUFNLEVBQUU7WUFDZCxLQUFLLFdBQVcsQ0FBQyxlQUFlLENBQUM7WUFDakMsS0FBSyxXQUFXLENBQUMsZUFBZSxDQUFDO1lBQ2pDLEtBQUssV0FBVyxDQUFDLGVBQWU7Z0JBQzlCLE9BQU8sdUJBQXVCLENBQUMsUUFBUSxDQUFDO1lBRTFDLEtBQUssV0FBVyxDQUFDLGFBQWEsQ0FBQztZQUMvQixLQUFLLFdBQVcsQ0FBQyxhQUFhLENBQUM7WUFDL0IsS0FBSyxXQUFXLENBQUMsd0JBQXdCLENBQUM7WUFDMUMsS0FBSyxXQUFXLENBQUMsc0JBQXNCLENBQUM7WUFDeEMsS0FBSyxXQUFXLENBQUMsaUJBQWlCLENBQUM7WUFDbkMsS0FBSyxXQUFXLENBQUMsZUFBZSxDQUFDO1lBQ2pDLEtBQUssV0FBVyxDQUFDLHdCQUF3QixDQUFDO1lBQzFDLEtBQUssV0FBVyxDQUFDLHNCQUFzQixDQUFDO1lBQ3hDLEtBQUssV0FBVyxDQUFDLGFBQWE7Z0JBQzVCLE9BQU8sdUJBQXVCLENBQUMsTUFBTSxDQUFDO1lBRXhDLEtBQUssV0FBVyxDQUFDLGtCQUFrQixDQUFDO1lBQ3BDLEtBQUssV0FBVyxDQUFDLGtCQUFrQixDQUFDO1lBQ3BDLEtBQUssV0FBVyxDQUFDLDJCQUEyQixDQUFDO1lBQzdDLEtBQUssV0FBVyxDQUFDLGtCQUFrQixDQUFDO1lBQ3BDLEtBQUssV0FBVyxDQUFDLG9CQUFvQixDQUFDO1lBQ3RDLEtBQUssV0FBVyxDQUFDLG1DQUFtQyxDQUFDO1lBQ3JELEtBQUssV0FBVyxDQUFDLGtCQUFrQixDQUFDO1lBQ3BDLEtBQUssV0FBVyxDQUFDLDRDQUE0QyxDQUFDO1lBQzlELEtBQUssV0FBVyxDQUFDLDJCQUEyQjtnQkFDMUMsT0FBTyx1QkFBdUIsQ0FBQyxTQUFTLENBQUM7WUFFM0MsS0FBSyxXQUFXLENBQUMsa0JBQWtCO2dCQUNqQyxPQUFPLHVCQUF1QixDQUFDLFFBQVEsQ0FBQztZQUUxQyxLQUFLLFdBQVcsQ0FBQyxlQUFlO2dCQUM5QixPQUFPLHVCQUF1QixDQUFDLE9BQU8sQ0FBQztZQUV6QztnQkFDRSxPQUFPLHVCQUF1QixDQUFDLE9BQU8sQ0FBQztTQUMxQztJQUNILENBQUMsQ0FBQztDQUNIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhY2tTdGF0dXMgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtY2xvdWRmb3JtYXRpb24nO1xuaW1wb3J0IHsgQmFja2VuZERlcGxveW1lbnRTdGF0dXMgfSBmcm9tICcuLi9kZXBsb3llZF9iYWNrZW5kX2NsaWVudF9mYWN0b3J5LmpzJztcblxuLyoqXG4gKiBNYXBzIENGTiBzdGFjayBzdGF0dXNlcyB0byBCYWNrZW5kTWV0YWRhdGEgc3RhdHVzXG4gKi9cbmV4cG9ydCBjbGFzcyBTdGFja1N0YXR1c01hcHBlciB7XG4gIC8qKlxuICAgKiBDb252ZXJ0cyBDRk4gc3RhY2sgc3RhdHVzIHRvIGJhY2tlbmQgbWV0YWRhdGEgc3RhdHVzXG4gICAqL1xuICB0cmFuc2xhdGVTdGFja1N0YXR1cyA9IChcbiAgICBzdGF0dXM6IFN0YWNrU3RhdHVzIHwgc3RyaW5nIHwgdW5kZWZpbmVkLFxuICApOiBCYWNrZW5kRGVwbG95bWVudFN0YXR1cyA9PiB7XG4gICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuQ1JFQVRFX0NPTVBMRVRFOlxuICAgICAgY2FzZSBTdGFja1N0YXR1cy5JTVBPUlRfQ09NUExFVEU6XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLlVQREFURV9DT01QTEVURTpcbiAgICAgICAgcmV0dXJuIEJhY2tlbmREZXBsb3ltZW50U3RhdHVzLkRFUExPWUVEO1xuXG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLkNSRUFURV9GQUlMRUQ6XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLkRFTEVURV9GQUlMRUQ6XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLklNUE9SVF9ST0xMQkFDS19DT01QTEVURTpcbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuSU1QT1JUX1JPTExCQUNLX0ZBSUxFRDpcbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuUk9MTEJBQ0tfQ09NUExFVEU6XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLlJPTExCQUNLX0ZBSUxFRDpcbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuVVBEQVRFX1JPTExCQUNLX0NPTVBMRVRFOlxuICAgICAgY2FzZSBTdGFja1N0YXR1cy5VUERBVEVfUk9MTEJBQ0tfRkFJTEVEOlxuICAgICAgY2FzZSBTdGFja1N0YXR1cy5VUERBVEVfRkFJTEVEOlxuICAgICAgICByZXR1cm4gQmFja2VuZERlcGxveW1lbnRTdGF0dXMuRkFJTEVEO1xuXG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLkNSRUFURV9JTl9QUk9HUkVTUzpcbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuSU1QT1JUX0lOX1BST0dSRVNTOlxuICAgICAgY2FzZSBTdGFja1N0YXR1cy5JTVBPUlRfUk9MTEJBQ0tfSU5fUFJPR1JFU1M6XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLlJFVklFV19JTl9QUk9HUkVTUzpcbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuUk9MTEJBQ0tfSU5fUFJPR1JFU1M6XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLlVQREFURV9DT01QTEVURV9DTEVBTlVQX0lOX1BST0dSRVNTOlxuICAgICAgY2FzZSBTdGFja1N0YXR1cy5VUERBVEVfSU5fUFJPR1JFU1M6XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLlVQREFURV9ST0xMQkFDS19DT01QTEVURV9DTEVBTlVQX0lOX1BST0dSRVNTOlxuICAgICAgY2FzZSBTdGFja1N0YXR1cy5VUERBVEVfUk9MTEJBQ0tfSU5fUFJPR1JFU1M6XG4gICAgICAgIHJldHVybiBCYWNrZW5kRGVwbG95bWVudFN0YXR1cy5ERVBMT1lJTkc7XG5cbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuREVMRVRFX0lOX1BST0dSRVNTOlxuICAgICAgICByZXR1cm4gQmFja2VuZERlcGxveW1lbnRTdGF0dXMuREVMRVRJTkc7XG5cbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuREVMRVRFX0NPTVBMRVRFOlxuICAgICAgICByZXR1cm4gQmFja2VuZERlcGxveW1lbnRTdGF0dXMuREVMRVRFRDtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIEJhY2tlbmREZXBsb3ltZW50U3RhdHVzLlVOS05PV047XG4gICAgfVxuICB9O1xufVxuIl19